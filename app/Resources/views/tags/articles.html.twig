{% extends 'base.html.twig' %}

{% block main %}
    <div class="container body-content">
        {%  if tag.name is defined %}
        <h1>Searching by tag - {{ tag.name }}</h1>
        <div class="row">
            {% for article in tag.articles %}
                <div class="col-md-6">
                    <article>
                        <header>
                            <h2>{{ article.title }}</h2>
                        </header>

                        <p>
                            {{ article.summary }}
                        </p>
                        <small class="author">
                            Created on {{ article.date.format('d.m.Y  H:i:s') }} by {{ article.author }}
                        </small>


                        <footer>
                            <p>
                                {% for tag in article.tags %}
                                    <a class="btn btn-default btn-xs"
                                       href="{{ path('articles_with_tag', {'name': tag.name}) }}">{{ tag.name }}</a>
                                {% endfor %}
                            </p>
                            <div class="pull-right">
                                <a class="btn btn-default btn-xs"
                                   href="{{ path('article_view', {'id': article.id}) }}">Read more &raquo;</a>
                            </div>
                        </footer>
                    </article>
                </div>
            {% endfor %}
        </div>
        {% else %}
        <h1>Searching by tag - {{ tag }}</h1>
        <div class="row">
            <h2>No result</h2>
        </div>
        {% endif %}
    </div>
{% endblock %}
